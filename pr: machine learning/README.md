# Статус проекта

`Завершен`

# Прогнозирование вероятности оттока пользователей для фитнес-центров

## Запрос на исследование:

Сеть фитнес-центров «Культурист-датасаентист» разрабатывает стратегию взаимодействия с клиентами на основе аналитических данных.

Распространённая проблема фитнес-клубов и других сервисов — отток клиентов. Как понять, что клиент больше не с вами? Можно записать в отток тех, кто попросил закрыть договор или удалил аккаунт. Однако клиенты не всегда уходят демонстративно: чаще перестают пользоваться сервисом тихо.

Индикаторы оттока зависят от специфики отрасли. Когда пользователь редко, но стабильно закупается в интернет-магазине — не похоже, что он «отвалился». А вот если две недели не заходит на канал с ежедневно обновляемым контентом, дела плохи: подписчик заскучал и, кажется, оставил вас.

Для фитнес-центра можно считать, что клиент попал в отток, если за последний месяц ни разу не посетил спортзал. Конечно, не исключено, что он уехал на Бали и по приезде обязательно продолжит ходить на фитнес. Однако чаще бывает наоборот. Если клиент начал новую жизнь с понедельника, немного походил в спортзал, а потом пропал — скорее всего, он не вернётся.

Чтобы бороться с оттоком, отдел по работе с клиентами «Культуриста-датасаентиста» перевёл в электронный вид множество клиентских анкет. Ваша задача — провести анализ и подготовить план действий по удержанию клиентов.

## Задачи исследования:

`1. Исследовательский анализ данных`
- Посмотрите на датасет: есть ли в нём отсутствующие значения (пропуски), изучите средние значения и стандартные отклонения (пригодится метод describe());
- Посмотрите на средние значения признаков в двух группах — тех, кто ушел в отток и тех, кто остался (воспользуйтесь методом groupby());
- Постройте столбчатые гистограммы и распределения признаков для тех, кто ушёл (отток) и тех, кто остался (не попали в отток);
- Постройте матрицу корреляций и отобразите её.

`2. Построение модели прогнозирования оттока клиентов`

Постройте модель бинарной классификации клиентов, где целевой признак — факт оттока клиента в следующем месяце:

- Разбейте данные на обучающую и валидационную выборку функцией train_test_split().
- Обучите модель на train-выборке двумя способами: логистической регрессией, случайным лесом     
- Оцените метрики accuracy, precision и recall для обеих моделей на валидационной выборке. Сравните по ним модели. Какая модель показала себя лучше на основании метрик?

`Примечание:` укажите параметр random_state при разделении выборки и задании алгоритма.

`3. Кластеризация клиентов`

Отложите в сторону столбец с оттоком и проведите кластеризацию объектов (клиентов):

- Стандартизируйте данные.
- Постройте матрицу расстояний функцией linkage() на стандартизованной матрице признаков и нарисуйте дендрограмму. Внимание: отрисовка дендрограммы может занять время! На основании полученного графика предположите, какое количество кластеров можно выделить.
- Обучите модель кластеризации на основании алгоритма K-Means и спрогнозируйте кластеры клиентов. Примите решение о числе кластеров на основании изучения графика из предыдущего пункта.
- Посмотрите на средние значения признаков для кластеров. Можно ли сразу что-то заметить?
- Постройте распределения признаков для кластеров. Можно ли что-то заметить по ним?
- Для каждого полученного кластера посчитайте долю оттока (методом groupby()). Отличаются ли они по доле оттока? Какие кластеры склонны к оттоку, а какие — надёжны?

`4. Общие выводы и базовые рекомендации по работе с клиентами`
- Сформулируйте основные выводы и предложите рекомендации для стратегии взаимодействия с клиентами и их удержания.

## Общие выводы и базовые рекомендации по работе с клиентами

**Общие выводы**

- 84.5% клиентов проживают или работают в районе, где находится фитнес-центр;
- 48.7% клиентов являются сотрудниками компаний-партнёров клуба;
- 30.8% клиентов использовал промо-код от знакомого при оплате первого абонемента в фитнес-центр;
- средний возраст клиентов 29 лет;
- среднее время с момента первого обращения в фитнес-центр составляет 3.7 месяца с таким же стандартным отклонением, что свидетельствует о большом разбросе значений вокруг среднего;
- в среднем длительность контракта с фитнес-центром равна 4.7 месяца, до окончания действия абонемента клиентам остается 4.3 месяца;
- 40% клиентов посетили групповые тренировки;
- суммарная выручка от других услуг фитнес-центра в среднем составляет 147 единиц;
- клиенты в среднем посещают фитнес-центр два раза в неделю;
- средний отток за текущий месяц равен 26.5%;
- наибольшее число ушедших клиентов имели месячные абонементы в фитнес-центр, при этом на момент ухода у большинства фиксировался такой же остаток по абонементу - вероятней всего клиенты всего лишь несколько раз посетили фитнес-центр;
- наибольшее количество ушедших клиентов перестает посещать фитнес-центр на второй месяц после начала посещения;
- за прошедший месяц выделяется группа ушедших клиентов ни разу не посетивших фитнес-центр;
- ушедшие клиенты стабильно меньше тратят на дополнительные услуги фитнес-центра;
- лучший прогноз по оттоку клиентов дает дает модель логистической регрессии;
- на основе дендрограммы было выделено 4 кластера клиентов. Наиболее надежным кластером оказался кластер "1", самым ненадежным - кластер "2";
- исходя из средних значений по кластеру, надежные клиенты: в среднем это люди от 30 лет, приобретают абонементы на пол года, практически никогда первоначально не записываются в рамках акции «приведи друга», посещают групповые тренировки, больше всего тратят средств на дополнительные услуги фитнес-центра, в среднем посещают фитнес-центр не менее 4 месяцев не реже 2 раз в неделю;
- наименее надежные клиенты в среднем: в возрасте 27 лет, имеют короткие абонементы - преимущественно на 1 месяц, тратят средства на дополнительные услуги, однако эта сумма самая минимальная по кластерам, зачастую попадают в отток спустя месяц после начала занятий, посещают фитнес-центр один, редко когда два раза в неделю.

**Базовые рекомендации по работе с клиентами**
- для прогнозирования оттока клиентов необходимо учесть: как давно клиент впервые обращался в фитнес-центр, длительность приобретаемого абонемента, частоту посещений, а также, сколько тратит средств на дополнительные услуги. В зависимости от сочетания данных признаков можно спрогнозировать вероятность ухода клиента;
- возможно, для увеличения удержания стоит ввести абонементы с "промежуточной" продолжительностью - 3, 9 месяцев;
- ввести дополнительные программы лояльности, стимулирующие потребительскую активность на дополнительные услуги фитнес-центра. 
